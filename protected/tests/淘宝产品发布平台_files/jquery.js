(function(e){var t=e.fn.remove;e.fn.remove=function(n,r){if(!r){e("*",this).add(this).each(function(){e(this).triggerHandler("remove")})}return t.apply(this,arguments)};e.widget=function(t,n,r){var i=t.split(".")[0],s;t=t.split(".")[1];s=i+"-"+t;if(!r){r=n;n=e.Widget}e.expr[":"][s]=function(n){return!!e.data(n,t)};e[i]=e[i]||{};e[i][t]=function(e,t){if(arguments.length){this._createWidget(e,t)}};var o=new n;o.options=e.extend({},o.options);e[i][t].prototype=e.extend(true,o,{namespace:i,widgetName:t,widgetEventPrefix:e[i][t].prototype.widgetEventPrefix||t,widgetBaseClass:s},r);e.widget.bridge(t,e[i][t])};e.widget.bridge=function(t,n){e.fn[t]=function(r){var i=typeof r==="string",s=Array.prototype.slice.call(arguments,1),o=this;r=!i&&s.length?e.extend.apply(null,[true,r].concat(s)):r;if(i&&r.substring(0,1)==="_"){return o}if(i){this.each(function(){var n=e.data(this,t),i=n&&e.isFunction(n[r])?n[r].apply(n,s):n;if(i!==n&&i!==undefined){o=i;return false}})}else{this.each(function(){var i=e.data(this,t);if(i){if(r){i.option(r)}i._init()}else{e.data(this,t,new n(r,this))}})}return o}};e.Widget=function(e,t){if(arguments.length){this._createWidget(e,t)}};e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(t,n){this.element=e(n).data(this.widgetName,this);this.options=e.extend(true,{},this.options,e.metadata&&e.metadata.get(n)[this.widgetName],t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()});this._create();this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled")},widget:function(){return this.element},option:function(t,n){var r=t,i=this;if(arguments.length===0){return e.extend({},i.options)}if(typeof t==="string"){if(n===undefined){return this.options[t]}r={};r[t]=n}e.each(r,function(e,t){i._setOption(e,t)});return i},_setOption:function(e,t){this.options[e]=t;if(e==="disabled"){this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+this.namespace+"-state-disabled").attr("aria-disabled",t)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(t,n,r){var i=this.options[t];n=e.Event(n);n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase();r=r||{};if(n.originalEvent){for(var s=e.event.props.length,o;s;){o=e.event.props[--s];n[o]=n.originalEvent[o]}}this.element.trigger(n,r);return!(e.isFunction(i)&&i.call(this.element[0],n,r)===false||n.isDefaultPrevented())}}})(jQuery)